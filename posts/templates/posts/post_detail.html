{% extends 'base.html' %}

{% block content %}
    <h1>Post Details</h1>
    <div class="card">
        <div class="card-body">
            <h2>{{ post.title }}</h2>
            <p>{{ post.content }}</p>
            <p>Author: {{ post.user.username }}</p>
            <a class="btn btn-primary btn-lg" href="{% url 'add-comment' post.id %}" role="button">Add Comment</a>
        </div>

    </div>
    <h2>Comments</h2>
    <div class="card-body">
        <ul class="list-group list-group-flush">
            {% for comment in comments %}
                {% if forloop.counter <= 2 %}
                    <li class="list-group-item">
                        <h5 class="card-title">{{ comment.user.username }}:</h5>
                        <p class="card-text">{{ comment.content }}</p>
                    </li>
                {% endif %}
            {% endfor %}
        </ul>
        <a href="{% url 'comment-list' post.id %}" class="btn btn-outline-info">Show all comments</a>
    </div>
{% endblock %}